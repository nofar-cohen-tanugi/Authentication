"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("primereact/api"),n=require("primereact/hooks"),t=require("primereact/utils"),l=require("primereact/componentbase");function o(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}})),r.default=e,Object.freeze(r)}var a=o(e),c=l.ComponentBase.extend({defaultProps:{__TYPE:"ScrollPanel",id:null,style:null,className:null,children:void 0},css:{classes:{root:function(e){return t.classNames("p-scrollpanel p-component",e.props.className)},wrapper:"p-scrollpanel-wrapper",content:"p-scrollpanel-content",barx:"p-scrollpanel-bar p-scrollpanel-bar-x",bary:"p-scrollpanel-bar p-scrollpanel-bar-y"},styles:"\n        @layer primereact {\n            .p-scrollpanel-wrapper {\n                overflow: hidden;\n                width: 100%;\n                height: 100%;\n                position: relative;\n                z-index: 1;\n                float: left;\n            }\n            \n            .p-scrollpanel-content {\n                height: calc(100% + 18px);\n                width: calc(100% + 18px);\n                padding: 0 18px 18px 0;\n                position: relative;\n                overflow: hidden;\n                box-sizing: border-box;\n            }\n            \n            .p-scrollpanel-bar {\n                position: relative;\n                background: #c1c1c1;\n                border-radius: 3px;\n                z-index: 2;\n                cursor: pointer;\n                opacity: 0;\n                transition: opacity 0.25s linear;\n            }\n            \n            .p-scrollpanel-bar-y {\n                width: 9px;\n                top: 0;\n            }\n            \n            .p-scrollpanel-bar-x {\n                height: 9px;\n                bottom: 0;\n            }\n            \n            .p-scrollpanel-hidden {\n                visibility: hidden;\n            }\n            \n            .p-scrollpanel:hover .p-scrollpanel-bar,\n            .p-scrollpanel:active .p-scrollpanel-bar {\n                opacity: 1;\n            }\n            \n            .p-scrollpanel-grabbed {\n                user-select: none;\n            }\n        }\n        "}}),s=a.forwardRef((function(e,o){var s=a.useContext(r.PrimeReactContext),u=c.getProps(e,s),i=c.setMetaData({props:u}),p=i.ptm,d=i.cx;l.useHandleStyle(c.css.styles,i.isUnstyled,{name:"scrollpanel"});var m=a.useRef(null),f=a.useRef(null),h=a.useRef(null),g=a.useRef(null),b=a.useRef(!1),v=a.useRef(!1),x=a.useRef(null),y=a.useRef(null),w=a.useRef(null),H=a.useRef(null),E=a.useRef(null),D=a.useRef(!1),C=function(){var e=f.current.scrollWidth,r=-1*(m.current.clientHeight-h.current.clientHeight);w.current=f.current.clientWidth/e;var n=f.current.scrollHeight,l=-1*(m.current.clientWidth-g.current.clientWidth);H.current=f.current.clientHeight/n,E.current=window.requestAnimationFrame((function(){w.current>=1?t.DomHandler.addClass(h.current,"p-scrollpanel-hidden"):(t.DomHandler.removeClass(h.current,"p-scrollpanel-hidden"),h.current.style.cssText="width:"+Math.max(100*w.current,10)+"%; left:"+f.current.scrollLeft/e*100+"%;bottom:"+r+"px;"),H.current>=1?t.DomHandler.addClass(g.current,"p-scrollpanel-hidden"):(t.DomHandler.removeClass(g.current,"p-scrollpanel-hidden"),g.current.style.cssText="height:"+Math.max(100*H.current,10)+"%; top: calc("+f.current.scrollTop/n*100+"% - "+h.current.clientHeight+"px);right:"+l+"px;")}))},P=function(e){b.current?R(e):(v.current||R(e),L(e))},R=function(e){var r=e.pageX-x.current;x.current=e.pageX,E.current=window.requestAnimationFrame((function(){f.current.scrollLeft+=r/w.current}))},L=function(e){var r=e.pageY-y.current;y.current=e.pageY,E.current=window.requestAnimationFrame((function(){f.current.scrollTop+=r/H.current}))},M=function e(r){t.DomHandler.removeClass(g.current,"p-scrollpanel-grabbed"),t.DomHandler.removeClass(h.current,"p-scrollpanel-grabbed"),t.DomHandler.removeClass(document.body,"p-scrollpanel-grabbed"),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",e),b.current=!1,v.current=!1},N=function(){C()};n.useMountEffect((function(){var e,r,n;C(),window.addEventListener("resize",C),e=getComputedStyle(m.current),r=getComputedStyle(h.current),n=t.DomHandler.getHeight(m.current)-parseInt(r.height,10),"none"!==e["max-height"]&&0===n&&(m.current.style.height=f.current.offsetHeight+parseInt(r.height,10)>parseInt(e["max-height"],10)?e["max-height"]:f.current.offsetHeight+parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)+"px"),D.current=!0})),n.useUnmountEffect((function(){D.current&&window.removeEventListener("resize",C),E.current&&window.cancelAnimationFrame(E.current)})),a.useImperativeHandle(o,(function(){return{props:u,refresh:N,getElement:function(){return m.current},getContent:function(){return f.current},getXBar:function(){return h.current},getYBar:function(){return g.current}}}));var q=t.mergeProps({id:u.id,ref:m,style:u.style,className:d("root")},c.getOtherProps(u),p("root")),F=t.mergeProps({className:d("wrapper")},p("wrapper")),O=t.mergeProps({className:d("content"),ref:f,onScroll:C,onMouseEnter:C},p("content")),S=t.mergeProps({ref:h,className:d("barx"),onMouseDown:function(e){b.current=!0,x.current=e.pageX,t.DomHandler.addClass(h.current,"p-scrollpanel-grabbed"),t.DomHandler.addClass(document.body,"p-scrollpanel-grabbed"),document.addEventListener("mousemove",P),document.addEventListener("mouseup",M),e.preventDefault()}},p("barx")),T=t.mergeProps({ref:g,className:d("bary"),onMouseDown:function(e){v.current=!0,y.current=e.pageY,t.DomHandler.addClass(g.current,"p-scrollpanel-grabbed"),t.DomHandler.addClass(document.body,"p-scrollpanel-grabbed"),document.addEventListener("mousemove",P),document.addEventListener("mouseup",M),e.preventDefault()}},p("bary"));return a.createElement("div",q,a.createElement("div",F,a.createElement("div",O,u.children)),a.createElement("div",S),a.createElement("div",T))}));s.displayName="ScrollPanel",exports.ScrollPanel=s;
